<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sprunki Game</title>
<style>
  body{margin:0;font-family:sans-serif;background:#031025;color:#fff;padding:16px}
  .wrap{max-width:900px;margin:0 auto}
  header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
  .title{font-weight:700;font-size:20px}
  .controls{margin-left:auto;display:flex;gap:12px;align-items:center}
  #stopAll{background:orange;color:#000;border:0;padding:14px 20px;border-radius:12px;font-weight:700;font-size:18px;cursor:pointer}
  #stopAll:active{transform:translateY(1px)}
  input[type="range"]{width:120px}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:12px}
  .card{display:flex;flex-direction:column;align-items:center;gap:6px}
  .icon-btn{width:70px;height:70px;border-radius:8px;overflow:hidden;border:0;padding:0;background:transparent;cursor:pointer}
  .icon-btn img{width:100%;height:100%;object-fit:cover;display:block}
  .label{font-weight:700;font-size:13px;text-align:center;color:#fff}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">Sprunki</div>
      <div class="controls">
        <label style="font-size:13px;color:#ccc;margin-right:6px">Volume</label>
        <input id="masterVol" type="range" min="0" max="1" step="0.01" value="1">
        <button id="stopAll">Stop All</button>
      </div>
    </header>

    <main>
      <section id="grid" class="grid"></section>
    </main>
  </div>

<script>
(function(){
  const COUNT = 19;
  const IMAGE_NAME = i => `buttton_${i}.png`; // <-- matches your files
  const AUDIO_NAME = i => `audio_${i}.mp3`;

  const grid = document.getElementById('grid');
  const stopAllBtn = document.getElementById('stopAll');
  const masterVolEl = document.getElementById('masterVol');

  let masterVolume = 1;
  const activeAudios = new Set();

  for(let i=1;i<=COUNT;i++){
    const labelText = `Sprunki ${i}`;
    const card = document.createElement('div'); card.className='card';

    const btn = document.createElement('button'); btn.className='icon-btn'; btn.type='button'; btn.title=labelText;
    const img = document.createElement('img'); img.alt=labelText; img.src=IMAGE_NAME(i);
    img.onerror=()=>{btn.textContent=labelText; img.remove();};
    btn.appendChild(img);

    const label = document.createElement('div'); label.className='label'; label.textContent=labelText;
    btn.addEventListener('click', ()=> playAudio(i));

    card.appendChild(btn);
    card.appendChild(label);
    grid.appendChild(card);
  }

  function playAudio(i){
    const a=new Audio(AUDIO_NAME(i));
    a.volume=masterVolume;
    a.play().catch(()=>{});
    activeAudios.add(a);
    a.addEventListener('ended', ()=>activeAudios.delete(a));
  }

  stopAllBtn.addEventListener('click', ()=>{
    activeAudios.forEach(a=>{try{a.pause();a.currentTime=0;}catch(e){}});
    activeAudios.clear();
  });

  masterVolEl.addEventListener('input', e=>{
    masterVolume=Number(e.target.value);
    activeAudios.forEach(a=>{try{a.volume=masterVolume;}catch(e){}});
  });
})();
</script>
</body>
</html>
